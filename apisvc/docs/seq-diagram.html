<html>
  <head>
    <script src="https://bramp.github.io/js-sequence-diagrams/js/webfont.js"></script>
    <script src="https://bramp.github.io/js-sequence-diagrams/js/snap.svg-min.js"></script>
    <script src="https://bramp.github.io/js-sequence-diagrams/js/underscore-min.js"></script>
    <script src="https://bramp.github.io/js-sequence-diagrams/js/sequence-diagram-min.js"></script>
  </head>
  <body>
    <div id="diagram"></div>
      <script>
        var res = "POST /v2/admin/pools";
        var handler = "apisvc.handlers.v2.admin.pools.post";
        var manager = "apisvc.managers.gm.create_pool";
        var ninja1 = "apisvc.managers.ninja.create_k8s_namespace";
        var ninja2 = "apisvc.managers.ninja.create_os_project";
        var self = "apisvc.managers.gm.create_ring";

        var ninja3 = "apisvc.managers.ninja.create_os_user";
        var ninja4 = "apisvc.managers.ninja.create_k8s_user";
        var fbi1 = "apisvc.managers.fbi.get_controller";
        var fbi2 = "apisvc.managers.fbi.get_controller";
        var util1 = "apisvc.common.util.native_k8s_user_object_to_ring_credential";
        var util2 = "apisvc.common.util.native_os_user_object_to_ring_credential";
        var fbi3 = "apisvc.managers.fbi.create_ring";

        var data = res + "->" + handler + ": Message 1";
        data += "\n" + handler + "->" + manager + ": Message 2"
        data += "\n" + manager + "->" + ninja1 + ": Message 3"
        data += "\n" + ninja1 + "->" + manager + ": Message 4"
        data += "\n" + manager + "->" + ninja2 + ": Message 5"
        data += "\n" + ninja2 + "->" + manager + ": Message 6"
        data += "\n" + manager + "->" + self + ": Message 7"
        data += "\n" + self + "->" + ninja3 + ": Message 8"
        data += "\n" + ninja3 + "->" + self + ": Message 9"
        data += "\n" + self + "->" + ninja4 + ": Message 10"
        data += "\n" + ninja4 + "->" + self + ": Message 11"
        data += "\n" + self + "->" + fbi1 + ": Message 12"
        data += "\n" + fbi1 + "->" + self + ": Message 13"
        data += "\n" + self + "->" + fbi2 + ": Message 14"
        data += "\n" + fbi2 + "->" + self + ": Message 15"
        data += "\n" + self + "->" + util1 + ": Message 16"
        data += "\n" + util1 + "->" + self + ": Message 17"
        data += "\n" + self + "->" + util2 + ": Message 18"
        data += "\n" + util2 + "->" + self + ": Message 19"
        data += "\n" + self + "->" + fbi3 + ": Message 20"
        data += "\n" + fbi3 + "->" + self + ": Message 21"
        data += "\n" + self + "->" + manager + ": Message 22"
        data += "\n" + manager + "->" + handler + ": Message 23"
        data += "\n" + handler + "->" + res + ": Message 24"
        var diagram = Diagram.parse(data);
        diagram.drawSVG("diagram", {theme: 'hand'});
      </script>
    </div>
  </body>
</html>